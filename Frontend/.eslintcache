[{"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\index.tsx":"1","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\reportWebVitals.ts":"2","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\App.tsx":"3","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\blog\\Blog.tsx":"4","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\Layout.tsx":"5","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\NavMenu.tsx":"6","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\lib\\REST.tsx":"7","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\lib\\Logger.tsx":"8","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\lib\\BaseURL.tsx":"9","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\blog\\AddBlog.tsx":"10","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\blog\\RichEditor.tsx":"11","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\LoginNav.tsx":"12","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\LoginButton.tsx":"13","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\LogoutButton.tsx":"14","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\config.ts":"15","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\Loading.tsx":"16","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\ProtectedRoute.tsx":"17"},{"size":985,"mtime":1608747396699,"results":"18","hashOfConfig":"19"},{"size":425,"mtime":1607965809862,"results":"20","hashOfConfig":"19"},{"size":574,"mtime":1608817925091,"results":"21","hashOfConfig":"19"},{"size":123,"mtime":1608394793763,"results":"22","hashOfConfig":"19"},{"size":398,"mtime":1608394703664,"results":"23","hashOfConfig":"19"},{"size":2211,"mtime":1608731476737,"results":"24","hashOfConfig":"19"},{"size":1509,"mtime":1608371100353,"results":"25","hashOfConfig":"19"},{"size":116,"mtime":1608370348627,"results":"26","hashOfConfig":"19"},{"size":84,"mtime":1608370795887,"results":"27","hashOfConfig":"19"},{"size":3297,"mtime":1608936669078,"results":"28","hashOfConfig":"19"},{"size":725,"mtime":1608491530481,"results":"29","hashOfConfig":"19"},{"size":778,"mtime":1608754126552,"results":"30","hashOfConfig":"19"},{"size":382,"mtime":1608731890426,"results":"31","hashOfConfig":"19"},{"size":412,"mtime":1608731897425,"results":"32","hashOfConfig":"19"},{"size":182,"mtime":1608934494815,"results":"33","hashOfConfig":"19"},{"size":357,"mtime":1608754636305,"results":"34","hashOfConfig":"19"},{"size":406,"mtime":1608817847043,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1z0v85m",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\index.tsx",[],["77","78"],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\reportWebVitals.ts",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\App.tsx",["79"],"import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Layout from './components/Layout';\nimport { Route, Switch } from 'react-router-dom';\nimport Blog from './components/blog/Blog';\nimport AddBlog from './components/blog/AddBlog';\nimport ProtectedRoute from './components/auth/ProtectedRoute';\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route exact path='/' component={Blog}></Route>\n        <ProtectedRoute path='/addblog' component={AddBlog}></ProtectedRoute>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\blog\\Blog.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\Layout.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\NavMenu.tsx",["80"],"import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport './NavMenu.scss';\r\nimport { Container, Nav, Navbar, NavDropdown } from 'react-bootstrap';\r\nimport LoginNav from './auth/LoginNav';\r\n// import { LoginMenu } from './login/LoginMenu';\r\n\r\ninterface IProps {\r\n}\r\n\r\ninterface IState {\r\n  collapsed: boolean;\r\n}\r\n\r\nexport default class NavMenu extends Component<IProps, IState> {\r\n  static displayName = NavMenu.name;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.toggleNavbar = this.toggleNavbar.bind(this);\r\n    this.state = {\r\n      collapsed: true\r\n    };\r\n  }\r\n\r\n  toggleNavbar() {\r\n    this.setState( {\r\n      collapsed: !this.state.collapsed\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <header>\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n          <Container>\r\n            <LinkContainer to='/'>            \r\n              <Navbar.Brand>LBlog</Navbar.Brand>\r\n            </LinkContainer>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"mr-auto\">\r\n                <LinkContainer to='/'> \r\n                  <Nav.Link>Home</Nav.Link>\r\n                </LinkContainer>\r\n                <Nav.Link href=\"#link\">My blogs</Nav.Link>\r\n                <NavDropdown title=\"Actions\" id=\"basic-nav-dropdown\">\r\n                  <LinkContainer to='/addblog'> \r\n                    <NavDropdown.Item>Write new blog</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\r\n                  <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\r\n                </NavDropdown>\r\n                {/* <Nav.Item> */}\r\n                  \r\n                {/* </Nav.Item> */}\r\n              </Nav>\r\n              <Nav>\r\n                <LoginNav />\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Container>\r\n        </Navbar>\r\n\r\n      </header>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\lib\\REST.tsx",["81"],"import React, { Component } from 'react'\r\nimport BaseURL from './BaseURL'\r\nimport Logger from './Logger'\r\nimport axios, { AxiosResponse, AxiosRequestConfig } from 'axios'\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport default class REST extends Component {\r\n\r\n  static async get(config:AxiosRequestConfig){\r\n    config.method = 'GET';\r\n    return this.connect(config)\r\n  }\r\n\r\n  static async post(config:AxiosRequestConfig){\r\n    config.method = 'POST';\r\n    return this.connect(config)\r\n  }\r\n\r\n  static async put(config:AxiosRequestConfig){\r\n    config.method = 'PUT';\r\n    return this.connect(config)\r\n  }\r\n\r\n  static async delete(config:AxiosRequestConfig){\r\n    config.method = 'DELETE';\r\n    return this.connect(config)\r\n  }\r\n\r\n  static async connect(config:AxiosRequestConfig){\r\n    config.baseURL = BaseURL.backend;\r\n    config.responseType = config.responseType ? config.responseType : 'json';\r\n    let res:AxiosResponse;    \r\n    let error:any = new Error();\r\n    try {\r\n      res = await axios(config);\r\n      // TODO: check response code here\r\n      if(res.status === 404 || res.status === 500){\r\n        \r\n      } else if (res.status === 403) {\r\n        // jump to login\r\n        error.action = () => <Redirect to='/login' />\r\n        throw `Error occurred with http post`\r\n      }\r\n    } catch (e) {\r\n      Logger.log(e);\r\n      error.action && error.action();\r\n      return error;\r\n    }\r\n    return res;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\lib\\Logger.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\lib\\BaseURL.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\blog\\AddBlog.tsx",["82","83","84","85","86","87","88"],"import React, { useEffect, useState } from 'react'\r\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap'\r\nimport { convertToRaw, EditorState } from 'draft-js';\r\n\r\nimport RichEditor from './RichEditor';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport REST from '../../lib/REST';\r\nimport { useAuth0, withAuthenticationRequired } from \"@auth0/auth0-react\";\r\nimport Loading from \"../Loading\";\r\n\r\n\r\nfunction AddBlog() {\r\n  \r\n  const [blogTitle, setBlogTitle] = useState<string>(\"\");\r\n  const [blogContent, setBlogContent] = useState<EditorState>(() => EditorState.createEmpty());\r\n  const [accessToken, setAccessToken] = useState<string>(\"\");\r\n  const [blogTypeSelected, setBlogTypeSelected] = useState<string>(\"\");\r\n\r\n  const { getAccessTokenSilently } = useAuth0();\r\n  useEffect(() => {\r\n    async function setupToken(){    \r\n      const token = await getAccessTokenSilently();\r\n      console.log(token)\r\n      // setAccessToken(token);\r\n      REST.get({url:'api/blog/blogtypes',\r\n      headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    }}).then( r => {console.log(r); });\r\n    }\r\n\r\n    setupToken();\r\n  }, []);\r\n\r\n  const [preview, setPreview] = useState<any>()\r\n\r\n  const blogTypes = ['Technical', 'Daily Life', 'Music', 'Science', 'Others']\r\n  \r\n\r\n  const blogTypesComponent =  <Form.Group controlId=\"BlogType\">\r\n  <Form.Label>Blog Type</Form.Label>\r\n    <Form.Control as=\"select\">\r\n      {blogTypes.map( v => <option key={v}>{v}</option>)}\r\n    </Form.Control>\r\n  </Form.Group>\r\n\r\n  const FormSubmit = (event:any) => {\r\n    // VERY important, without persist event will be re-use and set to null in async function\r\n    event.persist();\r\n    event.preventDefault();\r\n\r\n    // store JSON.stringify(convertToRaw(blogContent.getCurrentContent())) to DB\r\n\r\n    // parse convertFromRaw( JSON.parse( <content from db> )) to <EditorState>\r\n\r\n    // use DOMPurify.sanitize(dirty) to clean the draftToHtml(convertToRaw(blogContent.getCurrentContent()))\r\n\r\n    console.log(convertToRaw(blogContent.getCurrentContent()))\r\n    console.log(draftToHtml(convertToRaw(blogContent.getCurrentContent())))\r\n    setPreview(draftToHtml(convertToRaw(blogContent.getCurrentContent())))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Form id=\"AddBlogForm\" onSubmit={FormSubmit}>        \r\n        <Row>\r\n          <Col xs=\"6\" lg={{span:2, offset:1}}>\r\n            {blogTypesComponent}\r\n          </Col>\r\n          <Col xs=\"12\" lg={{span:7, offset:1}}>\r\n            <Form.Group controlId=\"BlogTitle\">\r\n              <Form.Label>Title</Form.Label>\r\n              <Form.Control type=\"text\" placeholder=\"Blog Title\" value={blogTitle} onChange={(e) => setBlogTitle(e.target.value)}/>\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <RichEditor blogContent={blogContent} setBlogContent={setBlogContent}/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Submit\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n\r\n      <Container dangerouslySetInnerHTML={{ __html: preview }}>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddBlog;\r\n\r\n// export default withAuthenticationRequired(AddBlog, {\r\n//   onRedirecting: () => <Loading />,\r\n// });","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\blog\\RichEditor.tsx",["89"],"import { EditorState } from 'draft-js'\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport React, { useState } from 'react'\r\n\r\ninterface IProps {\r\n  blogContent: EditorState\r\n  setBlogContent: (e:EditorState) => void\r\n}\r\n\r\nexport default function RichEditor(props: IProps) {\r\n  \r\n\r\n  return (\r\n    <Editor \r\n      editorState={props.blogContent}\r\n      wrapperClassName=\"rich-editor\"\r\n      editorClassName=\"blog-content\"\r\n      editorStyle={{ border: \"1px solid\", paddingLeft: \"5px\", paddingRight: \"5px\", minHeight: \"300px\", maxHeight: \"800px\", marginBottom: \"20px\"}}\r\n      onEditorStateChange={ (e:EditorState) => {props.setBlogContent(e)}}\r\n      tabIndex={4}\r\n      placeholder=\"The message goes here...\" />\r\n  )\r\n}\r\n","C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\LoginNav.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\LoginButton.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\LogoutButton.tsx",[],["90","91"],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\config.ts",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\Loading.tsx",[],"C:\\Users\\Liu\\source\\repos\\LBlog\\Frontend\\src\\components\\auth\\ProtectedRoute.tsx",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":2,"column":8,"nodeType":"98","messageId":"99","endLine":2,"endColumn":12},{"ruleId":"96","severity":1,"message":"100","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":14},{"ruleId":"101","severity":1,"message":"102","line":42,"column":9,"nodeType":"103","messageId":"104","endLine":42,"endColumn":46},{"ruleId":"96","severity":1,"message":"105","line":8,"column":20,"nodeType":"98","messageId":"99","endLine":8,"endColumn":46},{"ruleId":"96","severity":1,"message":"106","line":9,"column":8,"nodeType":"98","messageId":"99","endLine":9,"endColumn":15},{"ruleId":"96","severity":1,"message":"107","line":16,"column":10,"nodeType":"98","messageId":"99","endLine":16,"endColumn":21},{"ruleId":"96","severity":1,"message":"108","line":16,"column":23,"nodeType":"98","messageId":"99","endLine":16,"endColumn":37},{"ruleId":"96","severity":1,"message":"109","line":17,"column":10,"nodeType":"98","messageId":"99","endLine":17,"endColumn":26},{"ruleId":"96","severity":1,"message":"110","line":17,"column":28,"nodeType":"98","messageId":"99","endLine":17,"endColumn":47},{"ruleId":"111","severity":1,"message":"112","line":32,"column":6,"nodeType":"113","endLine":32,"endColumn":8,"suggestions":"114"},{"ruleId":"96","severity":1,"message":"115","line":3,"column":17,"nodeType":"98","messageId":"99","endLine":3,"endColumn":25},{"ruleId":"92","replacedBy":"116"},{"ruleId":"94","replacedBy":"117"},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"@typescript-eslint/no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'withAuthenticationRequired' is defined but never used.","'Loading' is defined but never used.","'accessToken' is assigned a value but never used.","'setAccessToken' is assigned a value but never used.","'blogTypeSelected' is assigned a value but never used.","'setBlogTypeSelected' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getAccessTokenSilently'. Either include it or remove the dependency array.","ArrayExpression",["120"],"'useState' is defined but never used.",["118"],["119"],"no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},"Update the dependencies array to be: [getAccessTokenSilently]",{"range":"123","text":"124"},[1130,1132],"[getAccessTokenSilently]"]